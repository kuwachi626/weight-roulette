<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>サンプル</title>
    <!-- <link rel="stylesheet" href="style.css"/> -->
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script> -->
</head>
<body>
    <div id="tytle">
	    <h1>おさかなピッタン！</h1>
    </div>
    <style>
        #tytle {
            text-align: center;
        }
        h1 {
            font-size: 100px;
        }
    </style>
    <div id="roulette">
	    <h2><span id="number">0</span>kg</h2>
    </div>
    <style>
        #roulette {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        h2 {
            font-size: 100px;
        }
    </style>
    <div id="stopbtn">
        <button id="toggleButton">スタート</button>
    </div>
    <style>
        #stopbtn {
            text-align: center;
        }
    </style>
</body>


<script>
    let interval;
    let timeout;
    const numberDisplay = document.getElementById("number");
    const button = document.getElementById("toggleButton");

    // 使用する数字のリスト
    const numberList = [10, 25, 37, 42, 58, 63, 79, 85, 91];

    button.addEventListener("click", function() {
        if (button.textContent === "スタート") {
            button.textContent = "ストップ";
            let speed = 100; // 初期の変更速度
            clearTimeout(timeout); // 前の遅延をクリア
            interval = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * numberList.length);
                numberDisplay.textContent = numberList[randomIndex];
            }, speed);
        } else {
            button.textContent = "スタート";
            clearInterval(interval);

            // 徐々に遅くしながら最終的に確定
            let speed = 100;
            function slowDown() {
                if (speed < 1000) {
                    speed += 200; // だんだん遅くする
                    timeout = setTimeout(() => {
                        const randomIndex = Math.floor(Math.random() * numberList.length);
                        numberDisplay.textContent = numberList[randomIndex];
                        slowDown(); // 次の遅延呼び出し
                    }, speed);
                }
            }
            slowDown();
        }
    });
</script>
</html>